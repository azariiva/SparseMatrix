#  Оглавление
1. [Компиляция](#compilation)
    1. [Makefile](#Makefile)
    2. [Использование библиотеки](#lib_usage)
2. [Описание класса](#class_description)
    1. [Конструктор](#constructor)
    2. [Адресация](#addressing)
    3. [Арифметические операции](#arithmetics)
    4. [Операции сравнения](#comparison)
3. [Вспомогательные классы](#sup_classes)
    1. [MatrixIndex](#MatrixIndex)
    2. [SparseMatrixRow](#SparseMatrixRow)
    3. [SparseMatrixRowProxy](#SparseMatrixRowProxy)

## Компиляция <a name="compilation"></a>
### Makefile
* make all или make - компиляция статической библиотеки SparseMatrix.a
* make clean - удалить все промежуточные файлы компиляции
* make fclean - удалить все промежуточные файлы компиляции и SparseMatrix.a
* make tests - скомпилировать файлы с тестами
* make re - полностью перекомпилировать проект
### Использование библиотеки <a name="lib_usage"></a>
При компиляции добавьте `-I headers -L. <your files> -lSparseMatrix`

## Описание класса <a name="class_description"></a>
Класс `SparseMatrix` реализует разреженную матрицу на базе красно-чёрного дерева (`class RBTree`). <br>
Для задания/получения точности сравнения чисел с плавающей точкой с 0 используются функции `set_precision`/`get_precision`. <br>
Точность сравнения влияет в том числе и на то, какие элементы матрицы считаются нулевыми. `set_precision` нельзя использовать, пока существует хотя бы одна матрица, т.к. таким образом изменится определение нулевого элемента матрицы.
### Конструктор <a name="constructor"></a>
* `SparseMatrix(size_t, size_t)` - конструктор с двумя параметрами ширины и высоты
* `SparseMatrix(SparseMatrix&)` - конструктор копирования
### Адресация <a name="addressing"></a>
Классом поддерживаются операции адресации и разыменования. Например: <br>
```cpp
SparseMatrix m(10, 10);
(*(m - 3 + 4))[5] = 3;
*(m[1] + 10) = 4;
(*(m + 1) + 3)[0] = 5;
*(*(m + 1) + 3) = 6;
**m = 5;
```
### Арифметические операции <a name="arithmetics"></a>
Класс поддерживает поэлементные операции `+`, `-`, `*`, `/`, `+=`, `-=`, `*=`, `/=` для матриц и операцию матричного произведения `dot`. <br>
Также поддерживаются операции умножения и деления на вещественное число.
### Операции сравнения <a name="comparison"></a>
Операции сравнения(`==`, `!=`) работают с заданной точностью.

## Вспомогательные классы <a name="sup_classes"></a>
Здесь я дам описание поведения классов и  постараюсь объяснить причины их существования, потому что ~~количество классов вызывает у меня неподдельный ужас~~ считаю это нужным.
### MatrixIndex
Является ключом для дерева. Поддерживает все операции сравнения.
#### Конструктор
`MatrixIndex(size_t = 0, size_t = 0)` - конструктор класса. Значения по-умолчанию нужны для инициализации `Node::nil_node`.
#### Почему отдельный класс?
Описание класса и его функций вынесены для поддержки шаблонных классов `template class RBTree<T_KEY, T_ITEM>` и `template class Node<T_KEY, T_ITEM>`, в которых MatrixIndex является T_KEY.
### SparseMatrixRow
Является прокси для доступа к строкам матрицы. Порождается `SparseMatrix::operator[]`, `SparseMatrix::operator*`.<br>
#### Поля класса
* Флаг `modifyable` определяет, можно ли изменять элементы матрицы, которая породила объект класса. <br>
* Указатель `node` позволяет меньше обращаться к дереву.
### SparseMatrixRowProxy
Является прокси для доступа к элементам матрицы. Порождается `SparseMatrixRow::operator[]`, `SparseMatrixRow::operator*`. <br>
Поле `real` указывает на строку, породившую объект.

## Примечания
Тесты ещё не готовы и Makefile не идеальный